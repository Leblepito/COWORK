# COWORK.ARMY v5.0 â€” Technical Architecture & Vision

> **Proje:** Self-Managing AI Agent Army with 3D Visualization
> **Versiyon:** v5.0 (Hedef Mimari)
> **Mevcut:** v4.3 (Ã‡alÄ±ÅŸan MVP)
> **Tarih:** 2026-02-28
> **Yazar:** Commander Agent â€” AntiGravity Ventures

---

## 1. PROJE VÄ°ZYONU

COWORK.ARMY, gerÃ§ek bir ofisi simÃ¼le eden **otonom AI agent ordusu**dur. 12+ agent, masalarÄ±nda oturur, gÃ¶rev alÄ±r, birbirleriyle konuÅŸur, iÅŸ birliÄŸi yapar ve 3 farklÄ± iÅŸ vertikalini (Medikal Turizm, Algoritmik Trading, Coworking Space) yÃ¶netir.

**Temel Fark:** Bu sadece bir "chatbot" veya "workflow tool" deÄŸil â€” bu, kendi kendini yÃ¶neten, Ã¶ÄŸrenen ve optimize eden bir **dijital organizasyon**.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                 â”‚
â”‚   "Bir insan CEO gibi dÃ¼ÅŸÃ¼n, ama 7/24 Ã§alÄ±ÅŸ,                  â”‚
â”‚    12 agent'Ä±nÄ± koordine et, 3 projeyi yÃ¶net,                  â”‚
â”‚    ve her ÅŸeyi 3D ofiste canlÄ± gÃ¶ster."                        â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. MEVCUT DURUM vs HEDEF

### Mevcut (v4.3) â€” Ã‡alÄ±ÅŸan Ama Temel

| BileÅŸen | Durum | Sorun |
|---------|-------|-------|
| Agent Registry (12 base) | âœ… Ã‡alÄ±ÅŸÄ±yor | Statik tanÄ±mlar, Ã¶ÄŸrenme yok |
| Task Routing (keyword) | âœ… Ã‡alÄ±ÅŸÄ±yor | Basit regex, context yok |
| Claude API Entegrasyonu | âœ… Ã‡alÄ±ÅŸÄ±yor | Tek model, fallback yok |
| Autonomous Loop (30s tick) | âœ… Ã‡alÄ±ÅŸÄ±yor | Sadece spawn, akÄ±llÄ± deÄŸil |
| 3D Frontend (R3F) | âœ… Ã‡alÄ±ÅŸÄ±yor | Polling (2s), WebSocket yok |
| SQLite Database | âœ… Ã‡alÄ±ÅŸÄ±yor | Ã–lÃ§eklenmiyor, tek dosya |
| Agent Tools (5 araÃ§) | âœ… Ã‡alÄ±ÅŸÄ±yor | Basit I/O, domain araÃ§larÄ± yok |
| Agent-to-Agent Ä°letiÅŸim | âŒ Yok | Agent'lar birbirini Ã§aÄŸÄ±ramÄ±yor |
| Consensus Voting | âŒ Yok | DokÃ¼mantasyonda var, kodda yok |
| Agent Memory | âŒ Yok | Her spawn sÄ±fÄ±rdan baÅŸlÄ±yor |
| Authentication | âŒ Yok | TÃ¼m endpoint'ler aÃ§Ä±k |
| WebSocket | âŒ Yok | 2s polling = gecikme |
| Monitoring/Alerting | âŒ Yok | Agent crash = sessiz Ã¶lÃ¼m |
| cowork-api Entegrasyonu | âŒ Yok | Ä°ki sistem baÄŸÄ±msÄ±z |

### Hedef (v5.0) â€” Production-Ready Self-Managing Office

| BileÅŸen | Hedef |
|---------|-------|
| Agent-to-Agent RPC | Agent'lar birbirini doÄŸrudan Ã§aÄŸÄ±rabilir |
| Consensus Engine | Trading kararlarÄ±nda aÄŸÄ±rlÄ±klÄ± oylama |
| Persistent Memory | Agent'lar Ã¶nceki gÃ¶revlerden Ã¶ÄŸrenir |
| WebSocket Real-time | < 100ms gecikme ile canlÄ± gÃ¼ncelleme |
| PostgreSQL + Redis | Ã–lÃ§eklenebilir veri katmanÄ± |
| Domain-Specific Tools | Trading API, Medical CRM, Billing araÃ§larÄ± |
| Event-Driven Architecture | Olay bazlÄ± tetikleme, cron deÄŸil |
| API Gateway + Auth | JWT, rate limiting, RBAC |
| Health Monitoring | Auto-restart, alerting, SLA tracking |
| Feedback Loop | KullanÄ±cÄ± puanlama â†’ agent iyileÅŸtirme |

---

## 3. TEKNÄ°K MÄ°MARÄ° (v5.0 HEDEF)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        COWORK.ARMY v5.0                                â•‘
â•‘                  "The Self-Managing Digital Office"                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                      PRESENTATION LAYER                         â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚  3D Office    â”‚  â”‚  Admin Panel  â”‚  â”‚  CLI (Claude Code)   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  Dashboard    â”‚  â”‚  cowork-admin â”‚  â”‚  Terminal Interface   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  Next.js 15   â”‚  â”‚  Next.js 14   â”‚  â”‚  Direct commands     â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  R3F + Three  â”‚  â”‚  Tailwind     â”‚  â”‚                      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  Port 3333    â”‚  â”‚  Port 3001    â”‚  â”‚                      â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â”‚         â”‚                  â”‚                      â”‚              â”‚   â•‘
â•‘  â”‚         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â•‘
â•‘  â”‚                â”‚    WebSocket + REST   â”‚                         â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                   â–¼                      â–¼                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                       API GATEWAY                                â”‚   â•‘
â•‘  â”‚              Nginx / Traefik / Kong                              â”‚   â•‘
â•‘  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚   â•‘
â•‘  â”‚    â”‚  JWT Auth â”‚ Rate Limit â”‚ CORS â”‚ Load Balance â”‚ TLS  â”‚      â”‚   â•‘
â•‘  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘          â”‚                â”‚                â”‚                           â•‘
â•‘          â–¼                â–¼                â–¼                           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                    SERVICE LAYER                                 â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚  AGENT ARMY     â”‚  â”‚  COWORK API    â”‚  â”‚  AI FORECAST    â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  ORCHESTRATOR   â”‚  â”‚  (Business)    â”‚  â”‚  ENGINE         â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  FastAPI        â”‚  â”‚  FastAPI       â”‚  â”‚  FastAPI        â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  Port 8888      â”‚  â”‚  Port 8080     â”‚  â”‚  Port 8081      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚                 â”‚  â”‚                â”‚  â”‚                 â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ Agent CRUD    â”‚  â”‚ â€¢ Bookings     â”‚  â”‚ â€¢ Occupancy     â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ Task Router   â”‚  â”‚ â€¢ Spaces       â”‚  â”‚   Forecast      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ Spawn/Kill    â”‚  â”‚ â€¢ Members      â”‚  â”‚ â€¢ Slot          â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ Consensus     â”‚  â”‚ â€¢ Billing      â”‚  â”‚   Recommend     â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ Memory API    â”‚  â”‚ â€¢ Analytics    â”‚  â”‚ â€¢ Trend         â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ â€¢ WebSocket Hub â”‚  â”‚ â€¢ Stripe       â”‚  â”‚   Analysis      â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â”‚           â”‚                   â”‚                     â”‚           â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘              â”‚                   â”‚                     â”‚               â•‘
â•‘              â–¼                   â–¼                     â–¼               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                    MESSAGE BUS                                   â”‚   â•‘
â•‘  â”‚              Redis Streams / NATS JetStream                     â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  Channels:                                                      â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚ agent.{id}   â”‚ â”‚ task.events  â”‚ â”‚ collab.{a}.{b}         â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ Agent inbox   â”‚ â”‚ Task lifecycleâ”‚ â”‚ Agent-to-Agent chat    â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚ system.alertsâ”‚ â”‚ consensus.voteâ”‚ â”‚ project.{name}.events  â”‚  â”‚   â•‘
â•‘  â”‚  â”‚ Health/errorsâ”‚ â”‚ Trading votes â”‚ â”‚ Med/Trade/Cowork eventsâ”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘              â”‚                   â”‚                     â”‚               â•‘
â•‘              â–¼                   â–¼                     â–¼               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                      DATA LAYER                                  â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚  PostgreSQL   â”‚  â”‚  Redis       â”‚  â”‚  ChromaDB / Qdrant   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  (Primary DB) â”‚  â”‚  (Cache +    â”‚  â”‚  (Vector Memory)     â”‚  â”‚   â•‘
â•‘  â”‚  â”‚              â”‚  â”‚   Pub/Sub +   â”‚  â”‚                      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ agents    â”‚  â”‚   Sessions)   â”‚  â”‚  â€¢ Agent memories    â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ tasks     â”‚  â”‚              â”‚  â”‚  â€¢ Task embeddings   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ events    â”‚  â”‚  â€¢ Agent      â”‚  â”‚  â€¢ Code knowledge    â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ bookings  â”‚  â”‚    status     â”‚  â”‚  â€¢ Decision history  â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ spaces    â”‚  â”‚    cache      â”‚  â”‚                      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ users     â”‚  â”‚  â€¢ Rate       â”‚  â”‚  "Agent'lar geÃ§miÅŸ   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ invoices  â”‚  â”‚    limiting   â”‚  â”‚   gÃ¶revlerden         â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ memories  â”‚  â”‚  â€¢ WS state   â”‚  â”‚   Ã¶ÄŸrenir"           â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                   AGENT EXECUTION ENGINE                        â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚                   AGENT POOL                               â”‚  â”‚   â•‘
â•‘  â”‚  â”‚                                                           â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚Commanderâ”‚ â”‚Supervisorâ”‚ â”‚Med-Healthâ”‚ â”‚Travel   â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚ ğŸ‘‘ CEO  â”‚ â”‚ ğŸ” QA   â”‚ â”‚ âš•ï¸ Med  â”‚ â”‚ âœˆï¸ Trip â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚ CMDR    â”‚ â”‚ SUPV    â”‚ â”‚ DIR     â”‚ â”‚ DIR     â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚Trade    â”‚ â”‚Alpha    â”‚ â”‚Tech     â”‚ â”‚Risk     â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚Engine   â”‚ â”‚Scout    â”‚ â”‚Analyst  â”‚ â”‚Sentinel â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚ ğŸ§  Brainâ”‚ â”‚ ğŸ“¡ Sent â”‚ â”‚ ğŸ“Š Chartâ”‚ â”‚ ğŸ›¡ï¸ Guardâ”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚Quant    â”‚ â”‚Growth   â”‚ â”‚Web      â”‚ â”‚Finance  â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚Lab      â”‚ â”‚Ops      â”‚ â”‚Dev      â”‚ â”‚         â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â”‚ ğŸ§ª Opt  â”‚ â”‚ ğŸš€ Mkt â”‚ â”‚ ğŸ’» Code â”‚ â”‚ ğŸ’° Fin  â”‚       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚                                                           â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  + Dynamic Agents (kullanÄ±cÄ± tarafÄ±ndan oluÅŸturulan)     â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  Her Agent Ä°Ã§erir:                                              â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚  Claude API â†â†’ Tool Executor â†â†’ Memory Store             â”‚  â”‚   â•‘
â•‘  â”‚  â”‚       â†•              â†•               â†•                    â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  System Prompt   Sandbox Env     Vector Search            â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  + Context       + Domain Tools  + Decision History       â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  + Memory        + File I/O      + Task Embeddings        â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘  â”‚                  MANAGED PROJECTS (External)                    â”‚   â•‘
â•‘  â”‚                                                                 â”‚   â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â•‘
â•‘  â”‚  â”‚  Med-UI-Tra-main/        â”‚  â”‚  uAlgoTrade-main/          â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  leblepito.com           â”‚  â”‚  ualgotrade.com            â”‚  â”‚   â•‘
â•‘  â”‚  â”‚                          â”‚  â”‚                            â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ Frontend (Next.js 16) â”‚  â”‚  â€¢ Frontend (Next.js 16)  â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ Backend (FastAPI)     â”‚  â”‚  â€¢ AI Engine (5 agents)    â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ AI Agents (6 agents)  â”‚  â”‚  â€¢ Indicators (SMC, RSI)  â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  â€¢ WhatsApp/Telegram     â”‚  â”‚  â€¢ MessageBus (pub/sub)   â”‚  â”‚   â•‘
â•‘  â”‚  â”‚                          â”‚  â”‚  â€¢ Kill Switch             â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  Agent'lar bu kodlarÄ±    â”‚  â”‚  Agent'lar bu kodlarÄ±      â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  okur, yazar, deploy     â”‚  â”‚  okur, analiz eder,        â”‚  â”‚   â•‘
â•‘  â”‚  â”‚  eder.                   â”‚  â”‚  sinyal Ã¼retir.            â”‚  â”‚   â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## 4. AGENT EXECUTION ENGINE (DetaylÄ±)

### 4.1 Agent Lifecycle

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  CREATED â”‚ â† Registry'de tanÄ±mlÄ±
                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                         â”‚ spawn(task)
                         â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”Œâ”€â”€â”€â”€â”€â”‚  BOOTING â”‚ â† System prompt + memory yÃ¼kleniyor
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚ ready
              â”‚          â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     â”‚  IDLE    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚ COOLDOWN â”‚ â† Hata/kayÄ±p sonrasÄ± bekleme
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚ task assigned       â”‚ timer expires
              â”‚          â–¼                    â”‚
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
              â”‚     â”‚ THINKING â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚ plan ready
              â”‚          â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     tool_use      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     â”‚ PLANNING â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ WORKING  â”‚
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚                               â”‚
              â”‚          â”‚ collaborate                    â”‚ result
              â”‚          â–¼                               â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     â”‚COLLABOR- â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ CODING   â”‚
              â”‚     â”‚ATING     â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                         â”‚
              â”‚          â”‚                               â”‚
              â”‚          â–¼                               â”‚
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
              â”‚     â”‚ DONE     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚ save memory + emit event
              â”‚          â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â””â”€â”€â”€â”€â–ºâ”‚ IDLE     â”‚ â† Sonraki gÃ¶rev bekleniyor
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Agent-to-Agent Communication (YENÄ°)

Mevcut sistemde agent'lar birbirini Ã§aÄŸÄ±ramÄ±yor. Hedef mimari:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INTER-AGENT MESSAGING                         â”‚
â”‚                                                                  â”‚
â”‚  Commander                  Trade-Engine                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚         â”‚â”€â”€â”€â”€ request â”€â”€â–ºâ”‚         â”‚                         â”‚
â”‚  â”‚   ğŸ‘‘    â”‚               â”‚   ğŸ§     â”‚                         â”‚
â”‚  â”‚         â”‚â—„â”€â”€ response â”€â”€â”‚         â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                         â”‚
â”‚                                  â”‚                               â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                    â”‚             â”‚             â”‚                â”‚
â”‚                    â–¼             â–¼             â–¼                â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚              â”‚Alpha    â”‚  â”‚Tech     â”‚  â”‚Risk     â”‚            â”‚
â”‚              â”‚Scout    â”‚  â”‚Analyst  â”‚  â”‚Sentinel â”‚            â”‚
â”‚              â”‚  ğŸ“¡     â”‚  â”‚  ğŸ“Š     â”‚  â”‚  ğŸ›¡ï¸     â”‚            â”‚
â”‚              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â”‚
â”‚                   â”‚            â”‚            â”‚                   â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                â–¼                                â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                    â”‚  CONSENSUS ENGINE   â”‚                      â”‚
â”‚                    â”‚                     â”‚                      â”‚
â”‚                    â”‚  AlphaScout:  0.20  â”‚                      â”‚
â”‚                    â”‚  TechAnalyst: 0.35  â”‚                      â”‚
â”‚                    â”‚  RiskSentinel:0.30  â”‚                      â”‚
â”‚                    â”‚  TradeEngine: 0.15  â”‚                      â”‚
â”‚                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚                      â”‚
â”‚                    â”‚  Weighted Score:    â”‚                      â”‚
â”‚                    â”‚  >= 0.70 â†’ EXECUTE  â”‚                      â”‚
â”‚                    â”‚  <  0.70 â†’ REJECT   â”‚                      â”‚
â”‚                    â”‚                     â”‚                      â”‚
â”‚                    â”‚  HARD VETO:         â”‚                      â”‚
â”‚                    â”‚  RiskSentinel 80%+  â”‚                      â”‚
â”‚                    â”‚  confidence REJECT  â”‚                      â”‚
â”‚                    â”‚  â†’ trade iptal      â”‚                      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚  Message Format:                                                â”‚
â”‚  {                                                              â”‚
â”‚    "from": "trade-engine",                                      â”‚
â”‚    "to": "tech-analyst",                                        â”‚
â”‚    "type": "analysis_request",                                  â”‚
â”‚    "payload": { "symbol": "BTCUSDT", "timeframes": ["1H","4H"]},â”‚
â”‚    "reply_to": "consensus-session-abc123",                      â”‚
â”‚    "ttl": 30000                                                 â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Agent Memory System (YENÄ°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PERSISTENT AGENT MEMORY                       â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   SHORT-TERM MEMORY                      â”‚    â”‚
â”‚  â”‚  Redis (TTL: 1 saat)                                    â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â€¢ Mevcut gÃ¶rev context'i                               â”‚    â”‚
â”‚  â”‚  â€¢ Son 10 tool Ã§aÄŸrÄ±sÄ±                                  â”‚    â”‚
â”‚  â”‚  â€¢ Aktif collaboration state                             â”‚    â”‚
â”‚  â”‚  â€¢ GeÃ§ici hesaplama sonuÃ§larÄ±                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚ promote (Ã¶nemli bilgiler)             â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   LONG-TERM MEMORY                       â”‚    â”‚
â”‚  â”‚  PostgreSQL + Vector DB (ChromaDB/Qdrant)               â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  â€¢ Tamamlanan gÃ¶rev Ã¶zetleri (embedding)                â”‚    â”‚
â”‚  â”‚  â€¢ Ã–ÄŸrenilen kod pattern'leri                            â”‚    â”‚
â”‚  â”‚  â€¢ BaÅŸarÄ±lÄ±/baÅŸarÄ±sÄ±z strateji geÃ§miÅŸi                  â”‚    â”‚
â”‚  â”‚  â€¢ Agent-arasÄ± iliÅŸki haritasÄ±                           â”‚    â”‚
â”‚  â”‚  â€¢ Proje bilgi tabanÄ± (dosya yapÄ±larÄ±, convention'lar)  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚ recall (benzer gÃ¶rev aranÄ±rken)       â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                   MEMORY RETRIEVAL                       â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  Agent yeni gÃ¶rev aldÄ±ÄŸÄ±nda:                            â”‚    â”‚
â”‚  â”‚  1. GÃ¶rev â†’ embedding                                   â”‚    â”‚
â”‚  â”‚  2. Vector search â†’ benzer geÃ§miÅŸ gÃ¶revler (top 5)      â”‚    â”‚
â”‚  â”‚  3. Relevance filter (score > 0.7)                      â”‚    â”‚
â”‚  â”‚  4. Context window'a enjekte et                          â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  SonuÃ§: Agent ilk defa gÃ¶rdÃ¼ÄŸÃ¼ gÃ¶revi bile              â”‚    â”‚
â”‚  â”‚  "daha Ã¶nce benzer bir ÅŸey yaptÄ±m" diyerek              â”‚    â”‚
â”‚  â”‚  daha hÄ±zlÄ± ve doÄŸru Ã§Ã¶zer.                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. TASK ROUTING ENGINE (DetaylÄ±)

### 5.1 Mevcut: Basit Keyword Matching

```
Input: "BTC teknik analizi yap"
  â†’ regex scan: "btc" â†’ trade-engine, "teknik" â†’ tech-analyst
  â†’ En yÃ¼ksek skor: tech-analyst
  â†’ Spawn tech-analyst
```

### 5.2 Hedef: Multi-Layer Intelligent Routing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    INTELLIGENT TASK ROUTER                       â”‚
â”‚                                                                  â”‚
â”‚  Input: "leblepito.com'daki hasta randevu formunu dÃ¼zelt,       â”‚
â”‚          sonra SEO skorunu kontrol et"                          â”‚
â”‚                                                                  â”‚
â”‚  LAYER 1 â€” Intent Parsing (Claude)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  intent_1: { action: "fix_bug", target: "appointment_form",â”‚   â”‚
â”‚  â”‚              project: "Med-UI-Tra", domain: "frontend" }   â”‚   â”‚
â”‚  â”‚  intent_2: { action: "check", target: "seo_score",        â”‚   â”‚
â”‚  â”‚              project: "Med-UI-Tra", domain: "marketing" }  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                       â”‚
â”‚  LAYER 2 â€” Agent Matching (Scoring)                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  intent_1 â†’ web-dev     (score: 0.92, skills: frontend)  â”‚   â”‚
â”‚  â”‚  intent_2 â†’ growth-ops  (score: 0.87, skills: seo)       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                       â”‚
â”‚  LAYER 3 â€” Dependency Graph                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Task 1 (web-dev: fix form) â”€â”€THENâ”€â”€â–º Task 2 (growth:seo)â”‚   â”‚
â”‚  â”‚  SÄ±ralÄ±: Ã–nce form dÃ¼zelt, sonra SEO kontrol et          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                       â”‚
â”‚  LAYER 4 â€” Execution Plan                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. Spawn web-dev â†’ "Randevu formunu dÃ¼zelt"              â”‚   â”‚
â”‚  â”‚  2. web-dev DONE â†’ Spawn growth-ops â†’ "SEO kontrol"       â”‚   â”‚
â”‚  â”‚  3. growth-ops DONE â†’ Report to Commander                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. DOMAIN-SPECIFIC TOOL SETS

### 6.1 Mevcut Tools (5 araÃ§ â€” tÃ¼m agent'lar iÃ§in aynÄ±)

```
read_file, write_file, list_directory, search_code, run_command
```

### 6.2 Hedef: Domain-Specific Tool Suites

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TOOL REGISTRY (v5.0)                          â”‚
â”‚                                                                  â”‚
â”‚  CORE TOOLS (TÃ¼m agent'lar)                                    â”‚
â”‚  â”œâ”€â”€ read_file          Dosya okuma (50KB limit)                â”‚
â”‚  â”œâ”€â”€ write_file         Dosya yazma (sandbox)                   â”‚
â”‚  â”œâ”€â”€ list_directory     Dizin listeleme                         â”‚
â”‚  â”œâ”€â”€ search_code        Regex arama                             â”‚
â”‚  â”œâ”€â”€ run_command        Shell komutu (30s timeout)              â”‚
â”‚  â”œâ”€â”€ send_message       Agent-to-agent mesaj                    â”‚
â”‚  â”œâ”€â”€ request_consensus  Oylama baÅŸlatma                         â”‚
â”‚  â”œâ”€â”€ save_memory        Uzun dÃ¶nem hafÄ±za kaydetme              â”‚
â”‚  â””â”€â”€ recall_memory      GeÃ§miÅŸ bilgi arama                     â”‚
â”‚                                                                  â”‚
â”‚  TRADING TOOLS (trade-engine, alpha-scout, tech-analyst,        â”‚
â”‚                  risk-sentinel, quant-lab)                       â”‚
â”‚  â”œâ”€â”€ get_market_price   AnlÄ±k fiyat (Binance API)               â”‚
â”‚  â”œâ”€â”€ get_ohlcv          Mum verileri (1m, 5m, 1H, 4H, 1D)     â”‚
â”‚  â”œâ”€â”€ calculate_rsi      RSI hesaplama                           â”‚
â”‚  â”œâ”€â”€ calculate_bollinger Bollinger Bands                        â”‚
â”‚  â”œâ”€â”€ detect_order_blocks SMC Order Block tespiti                â”‚
â”‚  â”œâ”€â”€ detect_fvg         Fair Value Gap tespiti                  â”‚
â”‚  â”œâ”€â”€ get_funding_rate   Funding rate (Binance Futures)          â”‚
â”‚  â”œâ”€â”€ get_fear_greed     Fear & Greed Index                      â”‚
â”‚  â”œâ”€â”€ submit_signal      Sinyal gÃ¶nderme (consensus'a)           â”‚
â”‚  â”œâ”€â”€ get_portfolio      Mevcut pozisyonlar                      â”‚
â”‚  â”œâ”€â”€ place_order        Emir girme (paper trading)              â”‚
â”‚  â””â”€â”€ activate_kill_switch Acil pozisyon kapatma                 â”‚
â”‚                                                                  â”‚
â”‚  MEDICAL TOOLS (med-health, travel-agent)                       â”‚
â”‚  â”œâ”€â”€ search_clinics     Klinik arama (JCI akrediteli)           â”‚
â”‚  â”œâ”€â”€ get_pricing        ProsedÃ¼r fiyatlama                      â”‚
â”‚  â”œâ”€â”€ create_patient     Hasta kaydÄ± oluÅŸturma                   â”‚
â”‚  â”œâ”€â”€ schedule_appointment Randevu planlama                      â”‚
â”‚  â”œâ”€â”€ send_whatsapp      WhatsApp mesaj gÃ¶nderme                 â”‚
â”‚  â”œâ”€â”€ send_telegram      Telegram mesaj gÃ¶nderme                 â”‚
â”‚  â”œâ”€â”€ translate_text     6 dil arasÄ± Ã§eviri                      â”‚
â”‚  â”œâ”€â”€ get_patient_status Hasta durumu sorgulama                  â”‚
â”‚  â””â”€â”€ create_travel_package Transfer+otel+uÃ§uÅŸ paketi           â”‚
â”‚                                                                  â”‚
â”‚  COWORK TOOLS (finance, growth-ops)                             â”‚
â”‚  â”œâ”€â”€ get_bookings       Rezervasyon listesi                     â”‚
â”‚  â”œâ”€â”€ get_occupancy      Doluluk oranÄ±                           â”‚
â”‚  â”œâ”€â”€ get_revenue        Gelir raporu                            â”‚
â”‚  â”œâ”€â”€ create_invoice     Fatura oluÅŸturma                        â”‚
â”‚  â”œâ”€â”€ get_analytics      Dashboard metrikleri                    â”‚
â”‚  â”œâ”€â”€ run_seo_audit      SEO analizi                             â”‚
â”‚  â”œâ”€â”€ create_social_post Sosyal medya paylaÅŸÄ±mÄ±                  â”‚
â”‚  â””â”€â”€ track_campaign     Kampanya performansÄ±                    â”‚
â”‚                                                                  â”‚
â”‚  DEV TOOLS (web-dev)                                            â”‚
â”‚  â”œâ”€â”€ npm_install        Paket yÃ¼kleme                           â”‚
â”‚  â”œâ”€â”€ npm_build          Build Ã§alÄ±ÅŸtÄ±rma                        â”‚
â”‚  â”œâ”€â”€ run_tests          Test Ã§alÄ±ÅŸtÄ±rma                         â”‚
â”‚  â”œâ”€â”€ git_status         Git durumu                              â”‚
â”‚  â”œâ”€â”€ git_commit         Commit oluÅŸturma                        â”‚
â”‚  â”œâ”€â”€ deploy             Railway/Vercel deploy                   â”‚
â”‚  â””â”€â”€ check_lighthouse   Core Web Vitals kontrolÃ¼                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. REAL-TIME COMMUNICATION (WebSocket)

### 7.1 Mevcut: 2 Saniyelik Polling

```
Frontend â”€â”€â”€â”€ GET /api/statuses â”€â”€â”€â–º Backend    (her 2 sn)
Frontend â”€â”€â”€â”€ GET /api/events â”€â”€â”€â”€â”€â–º Backend    (her 2 sn)
Frontend â”€â”€â”€â”€ GET /api/output â”€â”€â”€â”€â”€â–º Backend    (her 2 sn, per agent)

Problem: 2 saniyelik gecikme, gereksiz HTTP overhead
```

### 7.2 Hedef: WebSocket Hub

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WEBSOCKET ARCHITECTURE                        â”‚
â”‚                                                                  â”‚
â”‚  Frontend                          Backend                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ 3D Scene â”‚â—„â•â•â•â• WS â•â•â•â•â•â•â•â•â•â•â•â•â”‚ WS Hub   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   /ws/office        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                        â”‚                         â”‚
â”‚  Events:                               â”‚  Channels:              â”‚
â”‚  â”œâ”€ agent.status.changed               â”‚  â”œâ”€ office.*            â”‚
â”‚  â”‚  { id, status, alive }              â”‚  â”œâ”€ agent.{id}.*       â”‚
â”‚  â”œâ”€ agent.output.line                  â”‚  â”œâ”€ task.*              â”‚
â”‚  â”‚  { id, line }                       â”‚  â”œâ”€ consensus.*         â”‚
â”‚  â”œâ”€ agent.position.update              â”‚  â””â”€ system.*            â”‚
â”‚  â”‚  { id, x, y, z, facing }           â”‚                         â”‚
â”‚  â”œâ”€ collaboration.started              â”‚  Backend emits:         â”‚
â”‚  â”‚  { agentA, agentB, type }           â”‚  â”œâ”€ Redis pub/sub       â”‚
â”‚  â”œâ”€ collaboration.ended                â”‚  â”œâ”€ Agent callbacks     â”‚
â”‚  â”‚  { agentA, agentB }                 â”‚  â””â”€ Autonomous loop     â”‚
â”‚  â”œâ”€ task.created                       â”‚                         â”‚
â”‚  â”‚  { id, title, assigned_to }         â”‚                         â”‚
â”‚  â”œâ”€ task.completed                     â”‚                         â”‚
â”‚  â”‚  { id, result_summary }             â”‚                         â”‚
â”‚  â”œâ”€ consensus.vote                     â”‚                         â”‚
â”‚  â”‚  { session, agent, decision }       â”‚                         â”‚
â”‚  â””â”€ system.alert                       â”‚                         â”‚
â”‚     { level, message }                 â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Avantajlar:
â€¢ < 100ms gecikme (2000ms yerine)
â€¢ Sadece deÄŸiÅŸenler gÃ¶nderilir (bandwidth tasarrufu)
â€¢ Bi-directional: Frontend â†’ Backend komutlar da WS Ã¼zerinden
â€¢ 3D pozisyon gÃ¼ncellemeri 60fps'e yakÄ±n olabilir
```

---

## 8. DATABASE SCHEMA (v5.0)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    POSTGRESQL SCHEMA                              â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚     agents       â”‚       â”‚     tasks        â”‚                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”‚ id         PK   â”‚â”€â”€â”    â”‚ id         PK   â”‚                  â”‚
â”‚  â”‚ name             â”‚  â”‚    â”‚ title           â”‚                  â”‚
â”‚  â”‚ icon             â”‚  â”‚    â”‚ description     â”‚                  â”‚
â”‚  â”‚ tier        ENUM â”‚  â”œâ”€â”€â”€â–ºâ”‚ assigned_to FK  â”‚                  â”‚
â”‚  â”‚ color            â”‚  â”‚    â”‚ priority   ENUM â”‚                  â”‚
â”‚  â”‚ domain           â”‚  â”‚    â”‚ status     ENUM â”‚                  â”‚
â”‚  â”‚ skills     JSON  â”‚  â”‚    â”‚ depends_on JSON â”‚ â† Task DAG      â”‚
â”‚  â”‚ rules      JSON  â”‚  â”‚    â”‚ result     JSON â”‚ â† Structured    â”‚
â”‚  â”‚ triggers   JSON  â”‚  â”‚    â”‚ created_by      â”‚                  â”‚
â”‚  â”‚ system_prompt    â”‚  â”‚    â”‚ created_at      â”‚                  â”‚
â”‚  â”‚ workspace_dir    â”‚  â”‚    â”‚ started_at      â”‚                  â”‚
â”‚  â”‚ is_base    BOOL  â”‚  â”‚    â”‚ completed_at    â”‚                  â”‚
â”‚  â”‚ total_tasks INT  â”‚  â”‚    â”‚ log        JSON â”‚                  â”‚
â”‚  â”‚ success_rate FL  â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â”‚ avg_duration FL  â”‚  â”‚                                         â”‚
â”‚  â”‚ created_at       â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ updated_at       â”‚  â”‚    â”‚    memories      â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚                        â”‚    â”‚ id         PK   â”‚                  â”‚
â”‚                        â”œâ”€â”€â”€â–ºâ”‚ agent_id   FK   â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚ content    TEXT  â”‚                  â”‚
â”‚  â”‚     events       â”‚  â”‚    â”‚ embedding  VEC  â”‚ â† Vector index   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚    â”‚ task_id    FK   â”‚                  â”‚
â”‚  â”‚ id         PK   â”‚  â”‚    â”‚ type       ENUM â”‚ â† lesson/fact/   â”‚
â”‚  â”‚ timestamp        â”‚  â”‚    â”‚                 â”‚    pattern/error  â”‚
â”‚  â”‚ agent_id   FK   â”‚â—„â”€â”˜    â”‚ importance FLOATâ”‚ â† 0.0 - 1.0     â”‚
â”‚  â”‚ message    TEXT  â”‚       â”‚ recall_count INTâ”‚                  â”‚
â”‚  â”‚ type       ENUM â”‚       â”‚ created_at      â”‚                  â”‚
â”‚  â”‚ metadata   JSON â”‚       â”‚ last_recalled   â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  consensus_      â”‚       â”‚  collaborations  â”‚                  â”‚
â”‚  â”‚  sessions        â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚ id         PK   â”‚                  â”‚
â”‚  â”‚ id         PK   â”‚       â”‚ agent_a    FK   â”‚                  â”‚
â”‚  â”‚ type       ENUM â”‚       â”‚ agent_b    FK   â”‚                  â”‚
â”‚  â”‚ symbol           â”‚       â”‚ type       ENUM â”‚                  â”‚
â”‚  â”‚ timeframe        â”‚       â”‚ message    TEXT  â”‚                  â”‚
â”‚  â”‚ status     ENUM â”‚       â”‚ started_at      â”‚                  â”‚
â”‚  â”‚ votes      JSON â”‚       â”‚ ended_at        â”‚                  â”‚
â”‚  â”‚ final_score FL  â”‚       â”‚ task_id    FK   â”‚                  â”‚
â”‚  â”‚ decision   ENUM â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â”‚ created_at       â”‚                                            â”‚
â”‚  â”‚ resolved_at      â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  agent_metrics   â”‚                  â”‚
â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚                             â”‚ id         PK   â”‚                  â”‚
â”‚                             â”‚ agent_id   FK   â”‚                  â”‚
â”‚                             â”‚ date       DATE â”‚                  â”‚
â”‚                             â”‚ tasks_done  INT â”‚                  â”‚
â”‚                             â”‚ tasks_failed INTâ”‚                  â”‚
â”‚                             â”‚ avg_duration FL â”‚                  â”‚
â”‚                             â”‚ tokens_used INT â”‚                  â”‚
â”‚                             â”‚ tools_called INTâ”‚                  â”‚
â”‚                             â”‚ collab_count INTâ”‚                  â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. AUTONOMOUS ORCHESTRATION ENGINE

### 9.1 Mevcut: Basit 30s Tick Loop

```python
# Her 30 saniyede:
# 1. KaÃ§ agent aktif? â†’ log
# 2. Pending task var mÄ±? â†’ spawn (max 3)
# 3. Her 5. tick â†’ supervisor event
# 4. Her 10. tick â†’ quant-lab event
```

### 9.2 Hedef: Event-Driven Smart Orchestrator

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SMART ORCHESTRATOR (v5.0)                       â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  EVENT TRIGGERS (Olay bazlÄ±, cron yerine)                 â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_task_created:                                          â”‚  â”‚
â”‚  â”‚    â†’ Route to agent â†’ Spawn if idle â†’ Update 3D scene     â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_agent_done:                                            â”‚  â”‚
â”‚  â”‚    â†’ Save memory â†’ Check dependent tasks â†’ Spawn next     â”‚  â”‚
â”‚  â”‚    â†’ Update agent_metrics â†’ Notify frontend (WS)          â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_agent_error:                                           â”‚  â”‚
â”‚  â”‚    â†’ Log error â†’ Retry (max 2) â†’ Alert if persistent     â”‚  â”‚
â”‚  â”‚    â†’ Reassign to fallback agent if available               â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_agent_idle(5min):                                      â”‚  â”‚
â”‚  â”‚    â†’ Check task queue â†’ Self-assign if matching skills    â”‚  â”‚
â”‚  â”‚    â†’ Or enter "learning mode" (review past tasks)          â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_consensus_requested:                                   â”‚  â”‚
â”‚  â”‚    â†’ Spawn voting agents â†’ Collect votes â†’ Calculate      â”‚  â”‚
â”‚  â”‚    â†’ Hard veto check â†’ Execute or reject                   â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_collaboration_detected:                                â”‚  â”‚
â”‚  â”‚    â†’ Update 3D positions â†’ Create beam â†’ Log event        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_schedule(daily 03:00 UTC):                             â”‚  â”‚
â”‚  â”‚    â†’ Spawn quant-lab â†’ Nightly optimization               â”‚  â”‚
â”‚  â”‚    â†’ Generate daily report â†’ Save to memory               â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  on_schedule(every 1h):                                    â”‚  â”‚
â”‚  â”‚    â†’ Health check all agents â†’ Restart dead ones          â”‚  â”‚
â”‚  â”‚    â†’ Supervisor inbox review                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  PRIORITY QUEUE                                            â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  critical â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  (immediate)                â”‚  â”‚
â”‚  â”‚  high     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ      (< 1 min)                 â”‚  â”‚
â”‚  â”‚  medium   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ          (< 5 min)                 â”‚  â”‚
â”‚  â”‚  low      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              (next available)          â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Kurallar:                                                 â”‚  â”‚
â”‚  â”‚  â€¢ Critical: Kill switch, hasta acil, production down     â”‚  â”‚
â”‚  â”‚  â€¢ High: Trading sinyali, mÃ¼ÅŸteri sorgusu                 â”‚  â”‚
â”‚  â”‚  â€¢ Medium: Bug fix, rapor, analiz                         â”‚  â”‚
â”‚  â”‚  â€¢ Low: Optimizasyon, temizlik, Ã¶ÄŸrenme                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  TASK DAG (Directed Acyclic Graph)                        â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  Ã–rnek: "Yeni hasta kaydÄ± + uÃ§uÅŸ + otel + transfer"      â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚  â”‚
â”‚  â”‚  â”‚ med-healthâ”‚ â† Task 1: Hasta kaydÄ± oluÅŸtur              â”‚  â”‚
â”‚  â”‚  â”‚ "intake"  â”‚                                              â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                              â”‚  â”‚
â”‚  â”‚        â”‚ done                                               â”‚  â”‚
â”‚  â”‚        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚  â”‚
â”‚  â”‚        â–¼                         â–¼                          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚  â”‚
â”‚  â”‚  â”‚travel    â”‚             â”‚ finance  â”‚                     â”‚  â”‚
â”‚  â”‚  â”‚"package" â”‚             â”‚"invoice" â”‚                     â”‚  â”‚
â”‚  â”‚  â”‚Task 2    â”‚             â”‚Task 3    â”‚                     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                     â”‚  â”‚
â”‚  â”‚        â”‚ done                    â”‚ done                      â”‚  â”‚
â”‚  â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚  â”‚
â”‚  â”‚                     â–¼                                       â”‚  â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚  â”‚
â”‚  â”‚              â”‚commander â”‚ â† Task 4: SonuÃ§ raporu            â”‚  â”‚
â”‚  â”‚              â”‚"report"  â”‚                                   â”‚  â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 10. 3D FRONTEND EVOLUTION

### 10.1 Mevcut 3D Ã–zellikler

```
âœ… Agent desk'leri (12 sabit pozisyon)
âœ… Character avatar'larÄ± (12 benzersiz karakter)
âœ… Status LED'leri (renk bazlÄ±)
âœ… Speech bubble'lar (event mesajlarÄ±)
âœ… Zone border'lar (4 departman)
âœ… Center hologram (COWORK.ARMY branding)
âœ… Collaboration beam'leri (partikÃ¼l efekti)
âœ… A* Pathfinding (agent yÃ¼rÃ¼yÃ¼ÅŸ)
âœ… Walk cycle animasyonu
âœ… OrbitControls (kamera kontrolÃ¼)
```

### 10.2 Hedef: Interactive 3D Office

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    3D OFFICE v5.0                                 â”‚
â”‚                                                                  â”‚
â”‚  YENÄ° GÃ–RSEL Ã–ZELLÄ°KLER                                        â”‚
â”‚  â”œâ”€â”€ Consensus Voting Arena (merkezde holografik oylama masasÄ±) â”‚
â”‚  â”œâ”€â”€ Task Pipeline Rail (gÃ¶rev akÄ±ÅŸÄ±nÄ± gÃ¶steren ray sistemi)    â”‚
â”‚  â”œâ”€â”€ Agent Tooltip (hover â†’ detaylÄ± bilgi)                      â”‚
â”‚  â”œâ”€â”€ Click-to-Interact (agent'a tÄ±kla â†’ gÃ¶rev ver/konuÅŸ)      â”‚
â”‚  â”œâ”€â”€ Memory Orbs (agent hafÄ±zasÄ±nÄ± gÃ¶steren kÃ¼recikler)         â”‚
â”‚  â”œâ”€â”€ Connection Lines (agent iliÅŸki aÄŸÄ±)                        â”‚
â”‚  â”œâ”€â”€ Mini-map (kÃ¼Ã§Ã¼k harita, bÃ¼yÃ¼k ofis iÃ§in)                   â”‚
â”‚  â”œâ”€â”€ Project Portals (Med-UI-Tra & uAlgoTrade kapÄ±larÄ±)        â”‚
â”‚  â”œâ”€â”€ Trading Wall (canlÄ± fiyat ekranÄ± â€” duvar TV)              â”‚
â”‚  â””â”€â”€ Alert Siren (kritik event'lerde kÄ±rmÄ±zÄ± Ä±ÅŸÄ±k)             â”‚
â”‚                                                                  â”‚
â”‚  YENÄ° ETKÄ°LEÅÄ°M Ã–ZELLÄ°KLERÄ°                                   â”‚
â”‚  â”œâ”€â”€ Agent'a saÄŸ tÄ±kla â†’ Context menu                          â”‚
â”‚  â”‚   â”œâ”€â”€ GÃ¶rev Ver                                              â”‚
â”‚  â”‚   â”œâ”€â”€ Durumunu GÃ¶r                                           â”‚
â”‚  â”‚   â”œâ”€â”€ Terminal AÃ§                                            â”‚
â”‚  â”‚   â”œâ”€â”€ HafÄ±zasÄ±nÄ± GÃ¶r                                         â”‚
â”‚  â”‚   â””â”€â”€ Ã–ldÃ¼r / Yeniden BaÅŸlat                                â”‚
â”‚  â”œâ”€â”€ Drag & Drop gÃ¶rev atama (task â†’ agent)                     â”‚
â”‚  â”œâ”€â”€ Real-time chat bubble (agent dÃ¼ÅŸÃ¼ncelerini canlÄ± gÃ¶ster)  â”‚
â”‚  â””â”€â”€ Timeline slider (geÃ§miÅŸ olaylarÄ± geri sarma)              â”‚
â”‚                                                                  â”‚
â”‚  PERFORMANS HEDEFLERÄ°                                           â”‚
â”‚  â”œâ”€â”€ 60fps (20+ agent ile)                                      â”‚
â”‚  â”œâ”€â”€ < 100ms UI gÃ¼ncelleme (WebSocket)                          â”‚
â”‚  â”œâ”€â”€ Lazy loading (uzak agent'lar LOD)                          â”‚
â”‚  â””â”€â”€ Mobile fallback (2D grid view)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. DEPLOYMENT ARCHÄ°TECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPLOYMENT (Docker Compose)                   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  docker-compose.yml                                      â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  services:                                               â”‚    â”‚
â”‚  â”‚    nginx:           # Reverse proxy + TLS                â”‚    â”‚
â”‚  â”‚      ports: 80, 443                                      â”‚    â”‚
â”‚  â”‚      â†’ /            â†’ army-frontend:3333                 â”‚    â”‚
â”‚  â”‚      â†’ /admin       â†’ cowork-admin:3001                  â”‚    â”‚
â”‚  â”‚      â†’ /api/army    â†’ army-backend:8888                  â”‚    â”‚
â”‚  â”‚      â†’ /api/cowork  â†’ cowork-api:8080                    â”‚    â”‚
â”‚  â”‚      â†’ /api/ai      â†’ cowork-ai:8081                     â”‚    â”‚
â”‚  â”‚      â†’ /ws          â†’ army-backend:8888/ws               â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    army-backend:    # Agent orchestrator                 â”‚    â”‚
â”‚  â”‚      build: ./cowork-army                                â”‚    â”‚
â”‚  â”‚      ports: 8888                                         â”‚    â”‚
â”‚  â”‚      env: ANTHROPIC_API_KEY, DATABASE_URL, REDIS_URL     â”‚    â”‚
â”‚  â”‚      depends_on: postgres, redis                         â”‚    â”‚
â”‚  â”‚      volumes: ../Med-UI-Tra-main, ../uAlgoTrade-main     â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    army-frontend:   # 3D dashboard                       â”‚    â”‚
â”‚  â”‚      build: ./cowork-army/frontend                       â”‚    â”‚
â”‚  â”‚      ports: 3333                                         â”‚    â”‚
â”‚  â”‚      env: COWORK_API_URL=http://army-backend:8888        â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    cowork-api:      # Business API                       â”‚    â”‚
â”‚  â”‚      build: ./cowork-api                                 â”‚    â”‚
â”‚  â”‚      ports: 8080                                         â”‚    â”‚
â”‚  â”‚      env: DATABASE_URL, STRIPE_SECRET_KEY                â”‚    â”‚
â”‚  â”‚      depends_on: postgres                                â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    cowork-admin:    # Admin dashboard                    â”‚    â”‚
â”‚  â”‚      build: ./cowork-admin                               â”‚    â”‚
â”‚  â”‚      ports: 3001                                         â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    cowork-ai:       # Forecasting engine                 â”‚    â”‚
â”‚  â”‚      build: ./cowork-ai                                  â”‚    â”‚
â”‚  â”‚      ports: 8081                                         â”‚    â”‚
â”‚  â”‚      depends_on: postgres, redis                         â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    postgres:        # Primary database                   â”‚    â”‚
â”‚  â”‚      image: postgres:16-alpine                           â”‚    â”‚
â”‚  â”‚      volumes: pgdata:/var/lib/postgresql/data            â”‚    â”‚
â”‚  â”‚      ports: 5432                                         â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    redis:           # Cache + pub/sub + sessions         â”‚    â”‚
â”‚  â”‚      image: redis:7-alpine                               â”‚    â”‚
â”‚  â”‚      ports: 6379                                         â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚    chromadb:        # Vector memory (optional)           â”‚    â”‚
â”‚  â”‚      image: chromadb/chroma:latest                       â”‚    â”‚
â”‚  â”‚      ports: 8000                                         â”‚    â”‚
â”‚  â”‚      volumes: chroma-data:/chroma/chroma                 â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  volumes:                                                â”‚    â”‚
â”‚  â”‚    pgdata:                                               â”‚    â”‚
â”‚  â”‚    chroma-data:                                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  PRODUCTION (Railway / VPS)                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Option A: Railway                                       â”‚    â”‚
â”‚  â”‚  â€¢ Her servis ayrÄ± Railway service                       â”‚    â”‚
â”‚  â”‚  â€¢ PostgreSQL: Railway managed                           â”‚    â”‚
â”‚  â”‚  â€¢ Redis: Railway managed                                â”‚    â”‚
â”‚  â”‚  â€¢ Custom domain: cowork.army                            â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚  Option B: VPS (Hetzner/DigitalOcean)                    â”‚    â”‚
â”‚  â”‚  â€¢ docker-compose up -d                                  â”‚    â”‚
â”‚  â”‚  â€¢ Caddy/Nginx reverse proxy + auto TLS                  â”‚    â”‚
â”‚  â”‚  â€¢ Watchtower auto-update                                â”‚    â”‚
â”‚  â”‚  â€¢ AylÄ±k maliyet: ~$20-40                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. SECURITY MODEL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SECURITY LAYERS                                â”‚
â”‚                                                                  â”‚
â”‚  LAYER 1 â€” API Gateway                                          â”‚
â”‚  â”œâ”€â”€ TLS termination (HTTPS only)                               â”‚
â”‚  â”œâ”€â”€ Rate limiting (100 req/min per IP)                         â”‚
â”‚  â”œâ”€â”€ CORS whitelist (specific origins)                          â”‚
â”‚  â””â”€â”€ Request size limit (10MB)                                  â”‚
â”‚                                                                  â”‚
â”‚  LAYER 2 â€” Authentication                                       â”‚
â”‚  â”œâ”€â”€ JWT (HS256, 60min access / 30d refresh)                    â”‚
â”‚  â”œâ”€â”€ Roles: VIEWER, OPERATOR, ADMIN, SUPER_ADMIN               â”‚
â”‚  â”œâ”€â”€ API Key auth (for service-to-service)                      â”‚
â”‚  â””â”€â”€ WebSocket auth (token in handshake)                        â”‚
â”‚                                                                  â”‚
â”‚  LAYER 3 â€” Authorization (RBAC)                                 â”‚
â”‚  â”œâ”€â”€ VIEWER: 3D dashboard, read events, read agent status       â”‚
â”‚  â”œâ”€â”€ OPERATOR: + spawn/kill agents, create tasks, delegate      â”‚
â”‚  â”œâ”€â”€ ADMIN: + create/delete agents, manage settings, billing    â”‚
â”‚  â””â”€â”€ SUPER_ADMIN: + all permissions, user management            â”‚
â”‚                                                                  â”‚
â”‚  LAYER 4 â€” Agent Sandboxing                                     â”‚
â”‚  â”œâ”€â”€ Path resolution (no escape from workspace)                 â”‚
â”‚  â”œâ”€â”€ Command blocklist (rm -rf, sudo, etc.)                     â”‚
â”‚  â”œâ”€â”€ Execution timeout (30s per command)                        â”‚
â”‚  â”œâ”€â”€ File size limits (50KB read, 10K output)                   â”‚
â”‚  â”œâ”€â”€ Network isolation (agent â†’ only allowed APIs)              â”‚
â”‚  â””â”€â”€ Resource limits (CPU, memory per agent)                    â”‚
â”‚                                                                  â”‚
â”‚  LAYER 5 â€” Data Protection                                      â”‚
â”‚  â”œâ”€â”€ Secrets: .env only, never in code/DB                       â”‚
â”‚  â”œâ”€â”€ Patient data: KVKK/GDPR compliant                         â”‚
â”‚  â”œâ”€â”€ Commission rates: internal only                            â”‚
â”‚  â”œâ”€â”€ API keys: encrypted at rest                                â”‚
â”‚  â””â”€â”€ Audit log: all state changes tracked                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. IMPLEMENTATION ROADMAP

### Phase 1: Foundation (1-2 hafta)
```
â–¡ SQLite â†’ PostgreSQL migration (Alembic)
â–¡ Redis entegrasyonu (cache + pub/sub)
â–¡ WebSocket hub (FastAPI WebSocket endpoint)
â–¡ Frontend WebSocket client (polling'i deÄŸiÅŸtir)
â–¡ Basic JWT auth (VIEWER, OPERATOR, ADMIN)
```

### Phase 2: Smart Agents (2-3 hafta)
```
â–¡ Agent-to-Agent messaging (Redis pub/sub)
â–¡ Consensus Engine (voting + veto logic)
â–¡ Agent Memory system (PostgreSQL + embeddings)
â–¡ Memory retrieval (vector similarity search)
â–¡ Task DAG support (depends_on field)
â–¡ Priority queue (critical > high > medium > low)
```

### Phase 3: Domain Tools (2-3 hafta)
```
â–¡ Trading tools (Binance API, indicators)
â–¡ Medical tools (CRM, WhatsApp, scheduling)
â–¡ Cowork tools (bookings, analytics bridge)
â–¡ Dev tools (git, npm, deploy)
â–¡ Tool permission matrix (agent â†’ allowed tools)
```

### Phase 4: 3D Evolution (1-2 hafta)
```
â–¡ WebSocket-driven 3D updates
â–¡ Click-to-interact (agent context menu)
â–¡ Consensus voting arena (3D visualization)
â–¡ Task pipeline rail
â–¡ Trading wall (live prices)
â–¡ Mobile fallback (2D grid)
```

### Phase 5: Production (1-2 hafta)
```
â–¡ Docker Compose (full stack)
â–¡ Nginx reverse proxy + TLS
â–¡ Health monitoring + auto-restart
â–¡ Agent metrics dashboard
â–¡ Backup strategy (pg_dump + S3)
â–¡ CI/CD pipeline
```

---

## 14. KPI & METRICS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SUCCESS METRICS                                â”‚
â”‚                                                                  â”‚
â”‚  AGENT PERFORMANCE                                              â”‚
â”‚  â”œâ”€â”€ Task completion rate:     Hedef > 90%                      â”‚
â”‚  â”œâ”€â”€ Average task duration:    Hedef < 2 min (basit gÃ¶revler)  â”‚
â”‚  â”œâ”€â”€ Agent uptime:             Hedef > 99%                      â”‚
â”‚  â”œâ”€â”€ Memory recall accuracy:   Hedef > 80%                      â”‚
â”‚  â””â”€â”€ Consensus agreement rate: Hedef > 75%                      â”‚
â”‚                                                                  â”‚
â”‚  SYSTEM PERFORMANCE                                             â”‚
â”‚  â”œâ”€â”€ API response time:        Hedef < 200ms (p95)             â”‚
â”‚  â”œâ”€â”€ WebSocket latency:        Hedef < 100ms                   â”‚
â”‚  â”œâ”€â”€ 3D render FPS:            Hedef > 30fps                   â”‚
â”‚  â”œâ”€â”€ Concurrent agents:        Hedef 20+                       â”‚
â”‚  â””â”€â”€ Event throughput:         Hedef 100 events/sec            â”‚
â”‚                                                                  â”‚
â”‚  BUSINESS IMPACT                                                â”‚
â”‚  â”œâ”€â”€ Trading signal accuracy:  Hedef > 65%                     â”‚
â”‚  â”œâ”€â”€ Patient response time:    Hedef < 1 saat                  â”‚
â”‚  â”œâ”€â”€ Cowork occupancy:         Hedef > 70%                     â”‚
â”‚  â””â”€â”€ Monthly cost:             Hedef < $100 (Claude API dahil) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 15. TECH STACK SUMMARY (v5.0)

| Katman | Teknoloji | Versiyon | AmaÃ§ |
|--------|-----------|----------|------|
| **3D Frontend** | Next.js + R3F + Three.js | 15 + 9 + 0.172 | 3D ofis dashboard |
| **Admin Panel** | Next.js + Tailwind | 14 + v3 | YÃ¶netim paneli |
| **Agent Backend** | FastAPI + asyncio | 0.115+ | Agent orchestration |
| **Business API** | FastAPI + SQLAlchemy | 0.115+ + 2.0 | Booking/billing |
| **AI Engine** | FastAPI | 0.115+ | Forecasting |
| **LLM** | Claude Sonnet 4 | claude-sonnet-4-20250514 | Agent beyni |
| **Primary DB** | PostgreSQL | 16 | Persistent data |
| **Cache/PubSub** | Redis | 7 | Real-time + cache |
| **Vector DB** | ChromaDB / Qdrant | latest | Agent memory |
| **Auth** | JWT (python-jose) | HS256 | Authentication |
| **Payments** | Stripe | 9.0+ | Subscription billing |
| **Container** | Docker Compose | 3.8 | Orchestration |
| **Reverse Proxy** | Nginx / Caddy | latest | TLS + routing |
| **Language** | Python 3.12 + TypeScript 5.7 | | Backend + Frontend |

---

*COWORK.ARMY v5.0 â€” "Kendi kendini yÃ¶neten dijital organizasyon"*
*AntiGravity Ventures â€” Commander Agent*
*2026-02-28*
